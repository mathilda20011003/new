#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
å¿«é€Ÿæµ‹è¯•è„šæœ¬ - æµ‹è¯•ç»Ÿä¸€æ ¼å¼
"""

import requests
from datetime import datetime

def quick_format_test():
    """å¿«é€Ÿæµ‹è¯•æ–°çš„ç»Ÿä¸€æ ¼å¼"""
    
    # æµ‹è¯•æœºå™¨äººURL
    webhook_url = "https://open.feishu.cn/open-apis/bot/v2/hook/9803c75c-0a2f-4044-b973-f98441f1804b"
    
    # æ¨¡æ‹Ÿç»Ÿä¸€æ ¼å¼çš„æ¶ˆæ¯
    test_content = f"""ğŸ“° å¾®ä¿¡å…¬ä¼—å·AIæ‘˜è¦ï¼ˆæ ¼å¼æµ‹è¯•ï¼‰

ğŸ“ æœºå™¨ä¹‹å¿ƒ
ğŸ“° æ•°å­—ç”Ÿå‘½ã€ŒåŸ¹å…»çš¿ã€é‡Œï¼ŒAIç«Ÿç„¶å­¦ä¼šäº†æ‰“æ¶ã€ç»“ç›Ÿã€æŠ¢åœ°ç›˜
ğŸ’¡ AIåœ¨æ¨¡æ‹Ÿç¯å¢ƒä¸­å±•ç°å‡ºå¤æ‚çš„ç¤¾ä¼šè¡Œä¸ºï¼ˆç«äº‰ã€åˆä½œï¼‰ï¼Œç´§å¯†çš„æ¯è¡Œä¸åŒçš„å†…å®¹å°±è¡Œäº†
ğŸ”— é˜…è¯»åŸæ–‡ | 2025-11-05 10:30:00
   https://mp.weixin.qq.com/s/example1

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“ çŸ­å‰§è‡ªä¹ å®¤
ğŸ“° å¿«è®¯ï½œã€Œçº¢æœå…è´¹è¿½å‰§ã€Appä¸Šçº¿ï¼ŒæŠ–éŸ³å†ä¸‹ä¸€åŸ
ğŸ’¡ æŠ–éŸ³æ¨å‡ºã€Œçº¢æœå…è´¹è¿½å‰§ã€æ ‡å¿—å…¶å†…å®¹ç”Ÿæ€å‘çŸ­å‰§/å¾®å‰§å‚ç±»æ·±åº¦æ¸—é€ï¼Œåˆ©ç”¨å…¶åºå¤§æµé‡åŸºç¡€å’Œæ¨èç®—æ³•ï¼Œç›´æ¥å†²å‡»ä¸“ä¸šçŸ­å‰§å¹³å°
ğŸ”— é˜…è¯»åŸæ–‡ | 2025-11-02 14:46:44
   https://mp.weixin.qq.com/s/example2

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“ æ¼«å‰§æœ‰æ•°
ğŸ“° æ—¥æ’­2000ä¸‡ï¼Œå¸­å·+åå°çš„æ¼«å‰§æƒ…æ¬¾å…¬å¼æ¥äº†ï¼Ÿ
ğŸ’¡ å¸­å·+åå°æ¼«å‰§æ¨¡å¼åœ¨çŸ­å‰§å¹³å°ç”¨æˆ·å¢é•¿ä¹åŠ›ï¼Œæ—¥æ’­åƒä¸‡çº§æ•°æ®æ˜¾ç¤ºäº†å¾…å‘æ˜çš„å·¨å¤§é©±åŠ¨åŠ›ï¼Œå…¶æ ¸å¿ƒä»·å€¼åœ¨äºå†…å®¹ç”Ÿäº§æ•ˆç‡ä¸ç”¨æˆ·ç²˜æ€§çš„å¹³è¡¡
ğŸ”— é˜…è¯»åŸæ–‡ | 2025-11-04 07:14:58
   https://mp.weixin.qq.com/s/example3

âœ… æµ‹è¯•æ—¶é—´ï¼š{datetime.now().strftime('%Y-%m-%d %H:%M:%S')}"""

    message = {
        "msg_type": "text",
        "content": {
            "text": test_content
        }
    }
    
    print("ğŸ§ª å¿«é€Ÿæ ¼å¼æµ‹è¯•...")
    print("ğŸ“¤ å‘é€åˆ°æµ‹è¯•æœºå™¨äºº...")
    
    try:
        response = requests.post(webhook_url, json=message, timeout=10)
        
        if response.status_code == 200:
            result = response.json()
            if result.get("StatusCode") == 0 or result.get("code") == 0:
                print("âœ… æµ‹è¯•æˆåŠŸï¼")
                print("ğŸ“‹ æ–°æ ¼å¼ç‰¹ç‚¹ï¼š")
                print("   - ğŸ“ ğŸ“° ğŸ’¡ ğŸ”— ç»Ÿä¸€å›¾æ ‡")
                print("   - ç´§å¯†æ’åˆ—ï¼Œæ— å¤šä½™ç©ºè¡Œ")
                print("   - æ–‡ç« é—´ç”¨åˆ†éš”çº¿åˆ†éš”")
                print("   - ç§»é™¤äº†åŠ ç²—ç­‰æ ¼å¼æ ‡è®°")
                return True
            else:
                print(f"âŒ æœºå™¨äººè¿”å›é”™è¯¯ï¼š{result}")
                return False
        else:
            print(f"âŒ HTTPé”™è¯¯ï¼š{response.status_code}")
            return False
            
    except Exception as e:
        print(f"âŒ æµ‹è¯•å¼‚å¸¸ï¼š{e}")
        return False

if __name__ == "__main__":
    print("=" * 50)
    print("ğŸš€ å¿«é€Ÿæ ¼å¼æµ‹è¯•")
    print("=" * 50)
    
    success = quick_format_test()
    
    print("\n" + "=" * 50)
    if success:
        print("ğŸ‰ æ ¼å¼æµ‹è¯•é€šè¿‡ï¼")
        print("ğŸ“ å¯ä»¥ç»§ç»­å¼€å‘æˆ–æäº¤ä»£ç ")
    else:
        print("âŒ æ ¼å¼æµ‹è¯•å¤±è´¥ï¼")
        print("ğŸ”§ è¯·æ£€æŸ¥ä»£ç ")
    print("=" * 50)
