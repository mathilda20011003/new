# 🚀 从零开始配置指南

> 📌 **适合人群**：完全不懂技术的实习生  
> ⏰ **预计时间**：30 分钟  
> 🎯 **目标**：配置微信公众号 AI 助手，自动推送到飞书

---

## 📋 你需要准备什么

在开始之前，准备一个**记事本**，用来保存所有的 Key 和地址。

### 需要注册的账号

1. ✅ **GitHub 账号**（应该已有）
2. ✅ **Zeabur 账号**（用 GitHub 登录）
3. ✅ **OpenRouter 账号**（用 Google/GitHub 登录）
4. ✅ **飞书账号**（应该已有）
5. ✅ **微信账号**（应该已有）

### 需要获取的 Key

| Key 名称 | 用途 | 在哪里获取 |
|---------|------|-----------|
| `FEISHU_WEBHOOK_URL` | 飞书推送 | 飞书机器人设置 |
| `OPENROUTER_API_KEY` | AI 总结 | OpenRouter 官网 |
| WeWe RSS 地址 | 爬取公众号 | Zeabur 部署后 |
| 公众号 Feed ID | 订阅公众号 | WeWe RSS 后台 |

---

## 🎯 第一步：配置飞书机器人（5分钟）

### 1.1 创建飞书群

1. 打开飞书
2. 创建一个新群（或使用现有群）
3. 群名称建议：`AIGC 动态漫资讯`

### 1.2 添加机器人

1. 在群里点击右上角 **设置**
2. 点击 **群机器人** → **添加机器人**
3. 选择 **自定义机器人**
4. 机器人名称：`AIGC 资讯助手`
5. 点击 **添加**

### 1.3 获取 Webhook URL

1. 添加成功后，会显示 **Webhook 地址**
2. 复制这个地址（类似：`https://open.feishu.cn/open-apis/bot/v2/hook/xxxxx`）
3. **保存到记事本**，标记为：`FEISHU_WEBHOOK_URL`

```
✏️ 记事本：
FEISHU_WEBHOOK_URL=https://open.feishu.cn/open-apis/bot/v2/hook/xxxxx
```

---

## 🎯 第二步：部署 WeWe RSS（10分钟）

### 2.1 注册 Zeabur

1. 访问：https://zeabur.com
2. 点击右上角 **Sign in with GitHub**
3. 授权登录

### 2.2 一键部署 WeWe RSS

1. 访问：https://github.com/cooderl/wewe-rss
2. 找到 **Deploy on Zeabur** 按钮，点击
3. 或直接访问：https://zeabur.com/templates/CV0E1D

### 2.3 配置部署

1. 点击 **Deploy**
2. 选择区域：**Singapore**（新加坡，速度快）
3. 等待部署完成（约 2-3 分钟）

### 2.4 获取访问地址

1. 部署完成后，点击项目
2. 找到 **wewe-rss** 服务
3. 点击 **Networking** → **Generate Domain**
4. 复制生成的域名（类似：`xxx.zeabur.app`）
5. **保存到记事本**，标记为：`WeWe RSS 地址`

```
✏️ 记事本：
FEISHU_WEBHOOK_URL=https://open.feishu.cn/open-apis/bot/v2/hook/xxxxx
WeWe RSS 地址=https://xxx.zeabur.app
```

### 2.5 登录 WeWe RSS

1. 访问你的 WeWe RSS 地址（刚才复制的）
2. 使用**微信扫码登录**（会跳转到微信读书）
3. 登录成功后，进入后台

### 2.6 添加公众号

1. 在 WeWe RSS 后台，点击 **添加订阅**
2. 输入公众号链接（任意一篇文章的链接）
3. 点击 **添加**
4. 添加成功后，会显示 **Feed ID**（类似：`MP_WXS_123456`）
5. **保存到记事本**

**推荐订阅的 AIGC 公众号**：
- 36氪
- 机器之心
- 量子位
- 新智元
- AI科技评论

**如何获取公众号链接**：
1. 在微信中打开公众号
2. 随便点开一篇文章
3. 点击右上角 **···** → **复制链接**
4. 粘贴到 WeWe RSS 中

```
✏️ 记事本：
FEISHU_WEBHOOK_URL=https://open.feishu.cn/open-apis/bot/v2/hook/xxxxx
WeWe RSS 地址=https://xxx.zeabur.app

公众号1：36氪
Feed ID：MP_WXS_123456

公众号2：机器之心
Feed ID：MP_WXS_789012
```

---

## 🎯 第三步：获取 OpenRouter API Key（5分钟）

### 3.1 注册 OpenRouter

1. 访问：https://openrouter.ai
2. 点击右上角 **Sign In**
3. 选择 **Sign in with Google** 或 **Sign in with GitHub**
4. 授权登录

### 3.2 创建 API Key

1. 登录后，访问：https://openrouter.ai/keys
2. 点击 **Create Key**
3. 输入名称：`WeChat RSS Bot`
4. 点击 **Create**
5. 复制显示的 API Key（类似：`sk-or-v1-xxxxxxxxxxxxx`）
6. ⚠️ **重要**：这个 Key 只显示一次，务必保存！
7. **保存到记事本**，标记为：`OPENROUTER_API_KEY`

```
✏️ 记事本：
FEISHU_WEBHOOK_URL=https://open.feishu.cn/open-apis/bot/v2/hook/xxxxx
WeWe RSS 地址=https://xxx.zeabur.app
OPENROUTER_API_KEY=sk-or-v1-xxxxxxxxxxxxx

公众号1：36氪
Feed ID：MP_WXS_123456

公众号2：机器之心
Feed ID：MP_WXS_789012
```

---

## 🎯 第四步：配置 GitHub Secrets（5分钟）

### 4.1 进入 GitHub 项目

1. 访问：https://github.com/mathilda20011003/new
2. 点击 **Settings**（设置）

### 4.2 添加 Secrets

1. 点击左侧 **Secrets and variables** → **Actions**
2. 点击 **New repository secret**

**添加第一个 Secret**：
- Name: `FEISHU_WEBHOOK_URL`
- Value: 从记事本复制你的飞书 Webhook 地址
- 点击 **Add secret**

**添加第二个 Secret**：
- 点击 **New repository secret**
- Name: `OPENROUTER_API_KEY`
- Value: 从记事本复制你的 OpenRouter API Key
- 点击 **Add secret**

### 4.3 验证

确认你已经添加了这两个 Secrets：
- ✅ `FEISHU_WEBHOOK_URL`
- ✅ `OPENROUTER_API_KEY`

---

## 🎯 第五步：配置公众号列表（5分钟）

### 5.1 打开配置文件

1. 在 GitHub 项目中，找到文件：`config/wechat_accounts.yaml`
2. 点击文件名打开
3. 点击右上角 **编辑**（铅笔图标）

### 5.2 修改配置

找到这几行，按照你的记事本内容修改：

```yaml
wewe_rss:
  base_url: "https://xxx.zeabur.app"  # 👈 改成你的 WeWe RSS 地址

ai:
  provider: "openrouter"  # 👈 不用改
  api_key: ""  # 👈 不用改（从环境变量读取）
  model: "meta-llama/llama-3.1-8b-instruct:free"  # 👈 不用改
  max_tokens: 150  # 👈 不用改

accounts:
  - name: "36氪"  # 👈 改成你的公众号名称
    feed_id: "MP_WXS_123456"  # 👈 改成你的 Feed ID
    keywords:
      - "AI"
      - "AIGC"
      - "人工智能"
  
  - name: "机器之心"  # 👈 改成你的公众号名称
    feed_id: "MP_WXS_789012"  # 👈 改成你的 Feed ID
    keywords:
      - "深度学习"
      - "AI"
```

### 5.3 完整示例

假设你的记事本是这样的：

```
WeWe RSS 地址=https://my-wewe.zeabur.app

公众号1：36氪
Feed ID：MP_WXS_ABC123

公众号2：机器之心
Feed ID：MP_WXS_DEF456
```

那么配置文件应该改成：

```yaml
wewe_rss:
  base_url: "https://my-wewe.zeabur.app"

ai:
  provider: "openrouter"
  api_key: ""
  model: "meta-llama/llama-3.1-8b-instruct:free"
  max_tokens: 150

accounts:
  - name: "36氪"
    feed_id: "MP_WXS_ABC123"
    keywords:
      - "AI"
      - "AIGC"
      - "Sora"
      - "Midjourney"
  
  - name: "机器之心"
    feed_id: "MP_WXS_DEF456"
    keywords:
      - "深度学习"
      - "AI"
      - "大模型"
```

### 5.4 保存并提交

1. 点击右上角 **Commit changes**
2. 输入提交信息：`配置公众号列表`
3. 点击 **Commit changes**

---

## 🎯 第六步：测试运行（5分钟）

### 6.1 手动运行

1. 在 GitHub 项目中，点击 **Actions** 标签
2. 点击左侧 **WeChat RSS Crawler**
3. 点击右侧 **Run workflow** → **Run workflow**
4. 等待运行完成（约 1-2 分钟）

### 6.2 查看运行结果

1. 点击刚才运行的任务
2. 点击 **wechat-crawler**
3. 查看日志，应该看到类似：

```
🚀 开始爬取微信公众号文章
📡 WeWe RSS 地址: https://xxx.zeabur.app
📊 配置了 2 个公众号

📱 处理公众号: 36氪
   获取到 5 篇文章
   筛选后剩余 3 篇

📝 处理文章 1/3: OpenAI 发布 Sora...
   ✅ 摘要: OpenAI 发布了全新的视频生成模型...

📱 准备推送到飞书
   共 3 篇文章
✅ 飞书推送成功!
```

### 6.3 检查飞书

打开飞书群，你应该会收到类似这样的消息：

```
📰 微信公众号 AI 摘要推送
⏰ 2024-11-04 14:30:00
📊 共 3 篇文章

---

📱 36氪 (2 篇)

1. OpenAI 发布 Sora 视频生成模型
📝 OpenAI 发布了全新的视频生成模型 Sora，能够根据文本描述生成高质量的视频内容...
⏰ 2024-11-04 10:30
🔗 https://mp.weixin.qq.com/s/xxxxx

2. Midjourney V7 版本发布
📝 Midjourney 发布 V7 版本，图像生成质量大幅提升...
⏰ 2024-11-04 09:15
🔗 https://mp.weixin.qq.com/s/xxxxx
```

---

## ✅ 完成！

恭喜！你已经成功配置了微信公众号 AI 助手！

### 🎯 现在系统会自动：

- ⏰ **每小时运行一次**（自动）
- 📱 **爬取公众号文章**（自动）
- 🤖 **AI 生成摘要**（自动）
- 📨 **推送到飞书**（自动）

---

## 📚 所有 Key 的位置总结

### 需要配置到 GitHub Secrets 的 Key

访问：https://github.com/mathilda20011003/new/settings/secrets/actions

| Key 名称 | 如何获取 | 配置位置 |
|---------|---------|---------|
| `FEISHU_WEBHOOK_URL` | 飞书群机器人设置 | GitHub Secrets |
| `OPENROUTER_API_KEY` | https://openrouter.ai/keys | GitHub Secrets |

### 需要配置到 config/wechat_accounts.yaml 的内容

文件位置：https://github.com/mathilda20011003/new/blob/master/config/wechat_accounts.yaml

| 配置项 | 如何获取 | 配置位置 |
|-------|---------|---------|
| `wewe_rss.base_url` | Zeabur 部署后生成 | config/wechat_accounts.yaml |
| `accounts[].feed_id` | WeWe RSS 后台添加订阅 | config/wechat_accounts.yaml |

---

## 🔧 后续调整（可选）

### 调整推送时间

编辑文件：`.github/workflows/wechat-crawler.yml`

找到这一行：

```yaml
schedule:
  - cron: '0 * * * *'  # 每小时运行一次
```

改成：

```yaml
schedule:
  - cron: '0 0,4,8 * * *'  # 每天 8:00, 12:00, 16:00 运行
```

常用时间：
- 每天 8:00 → `0 0 * * *`
- 每天 12:00 → `0 4 * * *`
- 每天 18:00 → `0 10 * * *`
- 每小时 → `0 * * * *`

### 调整关键词

编辑文件：`config/wechat_accounts.yaml`

修改 `keywords` 列表：

```yaml
keywords:
  - "AI"
  - "AIGC"
  - "Sora"
  - "Midjourney"
  - "Stable Diffusion"
```

### 添加更多公众号

在 `config/wechat_accounts.yaml` 中添加：

```yaml
accounts:
  - name: "36氪"
    feed_id: "MP_WXS_ABC123"
    keywords: ["AI", "AIGC"]
  
  - name: "机器之心"
    feed_id: "MP_WXS_DEF456"
    keywords: ["深度学习", "AI"]
  
  - name: "量子位"  # 👈 新增
    feed_id: "MP_WXS_GHI789"  # 👈 新增
    keywords: ["AI", "科技"]  # 👈 新增
```

---

## ❓ 常见问题

### Q1: 飞书收不到消息？

**检查清单**：
1. GitHub Secrets 中的 `FEISHU_WEBHOOK_URL` 是否正确
2. GitHub Actions 是否运行成功（查看 Actions 页面）
3. 查看 Actions 日志，看是否有错误

### Q2: AI 总结失败？

**检查清单**：
1. GitHub Secrets 中的 `OPENROUTER_API_KEY` 是否正确
2. 访问 https://openrouter.ai/activity 查看 API 调用记录
3. 查看 Actions 日志中的错误信息

### Q3: 没有爬取到文章？

**检查清单**：
1. `config/wechat_accounts.yaml` 中的 `base_url` 是否正确
2. `feed_id` 是否正确
3. 公众号是否有新文章
4. 关键词是否太严格（尝试减少关键词）

### Q4: WeWe RSS 登录失败？

**解决方法**：
1. 重新访问 WeWe RSS 地址
2. 重新扫码登录
3. 确保使用微信扫码（不是其他方式）

### Q5: 如何手动触发运行？

1. 进入 GitHub Actions
2. 选择 **WeChat RSS Crawler**
3. 点击 **Run workflow**

---

## 📞 需要帮助？

### 详细文档

- 📖 [OpenRouter使用教程.md](OpenRouter使用教程.md) - OpenRouter 详细教程
- 📘 [快速入门-微信公众号AI助手.md](快速入门-微信公众号AI助手.md) - 详细功能说明
- 📗 [实施清单-今天必须完成.md](实施清单-今天必须完成.md) - 详细任务清单

### 提交问题

如果遇到问题，可以在 GitHub 提交 Issue：
https://github.com/mathilda20011003/new/issues

---

**祝你使用愉快！** 🎉

